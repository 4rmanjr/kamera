"Status","File Path","Key Symbols","Issue and Recommendation","Actionable Steps"
"[x]","js/services/location.js","LocationService, processLocationUpdate, evaluateLocationStability, isBetterLocation, makeLocationStable","Logika untuk menentukan lokasi GPS stabil sangat kompleks, stateful, dan terikat dengan DOM. Sulit dipelihara.","Faktorkan ulang menjadi state machine yang terpisah. Pisahkan semua logika UI dan pembaruan DOM dari layanan ini, ganti dengan sistem event."
"[x]","js/services/canvasProcessor.js","CanvasProcessorService, fallbackCapture, processCaptureQueue, sendToWorker","Logika pemrosesan gambar berbelit-belit dan ada duplikasi kode rendering antara service dan worker. Komunikasi dengan worker tidak efisien.","Ekstrak logika menggambar (watermarking, dll.) ke dalam satu modul bersama yang dapat digunakan oleh service dan worker. Sederhanakan protokol komunikasi antara thread utama dan worker."
"[x]","js/services/storage.js","StorageService, loadLastThumb, savePhoto","Mencampurkan logika penyimpanan data dengan manipulasi DOM secara langsung. Penggunaan API asinkron tidak konsisten (Promise & callback).","Faktorkan ulang untuk hanya menggunakan Promise. Hapus semua manipulasi DOM. Sebagai gantinya, gunakan event untuk memberi tahu komponen UI tentang perubahan data."
"[x]","js/workers/canvas-worker.js","onmessage, processImageOperations, addTextWatermark","Mengandung hardcoded styling dan pola komunikasi yang 'cerewet' dengan thread utama. Logika menggambar terduplikasi.","Pindahkan semua styling ke file CSS. Ekstrak logika menggambar ke modul bersama (lihat poin canvasProcessor). Optimalkan komunikasi untuk mengurangi latensi."
"[x]","js/utils/utils.js","Utils, updateSetting, exportSettings","Penggunaan `class` untuk metode/properti statis tidak perlu. Melakukan manipulasi DOM secara langsung dari fungsi utilitas.","Ubah file untuk hanya mengekspor fungsi dan objek biasa. Hapus semua kode manipulasi DOM dari file utilitas ini."
"[x]","js/services/notificationService.js","NotificationService, show, displayNotification","Hardcode kelas CSS dan informasi style (warna) langsung di dalam JavaScript, mencampurkan logika dan presentasi.","Hapus semua informasi style dari JavaScript. Buat kelas CSS semantik (misalnya, 'notification-success', 'notification-error') dan terapkan kelas-kelas ini dari service. Definisikan semua warna dan gaya di file CSS."
"[x]","js/components/virtualGallery.js","handleScroll, renderVisibleItems","Scroll event tidak di-throttle dan `renderVisibleItems` menyebabkan DOM thrashing dengan `innerHTML = ''`. Ini adalah bottleneck performa yang kritis.","Throttle `handleScroll` menggunakan `requestAnimationFrame`. Faktorkan ulang `renderVisibleItems` untuk mendaur ulang elemen DOM yang ada alih-alih menghancurkan dan membuatnya kembali di setiap scroll."
"[x]","js/components/ui.js","initListeners (oninput)","Event `oninput` untuk field 'Project Name' dan 'Note' memicu `localStorage.setItem` pada setiap ketikan, menyebabkan kelambatan input.","Gunakan fungsi `debounce` untuk menunda pemanggilan `updateSetting` hingga pengguna berhenti mengetik selama beberapa ratus milidetik."
"[x]","js/utils/utils.js","updateSetting","Fungsi ini dipanggil secara sinkron pada setiap ketikan dari `ui.js`. Perlu ada fungsi `debounce` yang dibuat di sini untuk digunakan oleh `ui.js`.","Buat dan ekspor fungsi `debounce(func, delay)` generik yang dapat digunakan kembali dari file utilitas ini."
"[x]","js/components/gallery.js","renderNormal","Untuk galeri non-virtual, metode render menghapus dan membuat ulang semua item dalam satu loop, yang tidak efisien untuk DOM.","Gunakan `DocumentFragment` untuk membuat semua elemen item galeri di memori terlebih dahulu, lalu tambahkan fragmen tersebut ke DOM dalam satu operasi tunggal untuk mengurangi layout thrashing."